

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GUI &mdash; Fantasy Genre Extractor 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Fantasy Genre Extractor 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Module code" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Fantasy Genre Extractor
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../project.html">Project Description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../project.html#motivation-and-aims">Motivation and Aims</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project.html#author">Author</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project.html#supervisor">Supervisor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html"><strong>Tutorial</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#application-on-start-up">Application On Start-up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#setting-up-the-corpus">Setting Up The Corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#train-the-fantasy-filter">Train The Fantasy Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#train-sub-genre-classifier">Train Sub Genre Classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#extract-genres-from-text">Extract Genres From Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#step-1-checking-main-genre">Step 1: Checking main genre</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#step-2-extracting-main-genre">Step 2: Extracting main genre</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code.html"><strong>API Documentation</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../classification.html">Classification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../classification.html#classifiertype">ClassifierType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../classification.html#genreclassifier">GenreClassifier</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gui.html">Graphic User Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gui.html#main-form">Main Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui.html#corpus-form">Corpus Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui.html#main-genre-form">Main Genre Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui.html#sub-genre-form">Sub Genre Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui.html#module-functions">Module Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../customui.html">Custom UI Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../customui.html#status-bar">Status Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customui.html#logger-widget">Logger Widget</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customui.html#console-widget">Console Widget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html">Utility Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utilities.html#logging-utility">Logging Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities.html#corpus-utility">Corpus Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities.html#text-sanitisation-utility">Text Sanitisation Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities.html#configuration-utility">Configuration Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities.html#file-management-utility">File Management Utility</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Fantasy Genre Extractor</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Module code</a> &raquo;</li>
      
    <li>GUI</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for GUI</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;This module contains user interface components</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">configparser</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>

<span class="kn">from</span> <span class="nn">Utilities</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="nn">pandas_ml.confusion_matrix.cm</span> <span class="k">import</span> <span class="n">ConfusionMatrix</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">preprocessing</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics.classification</span> <span class="k">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics.classification</span> <span class="k">import</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter.ttk</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="kn">from</span> <span class="nn">_operator</span> <span class="k">import</span> <span class="n">itemgetter</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="c1">#  For embedding plot in tkinter frame</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;TkAgg&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">Classification</span> <span class="k">import</span> <span class="n">ClassifierType</span>
<span class="kn">from</span> <span class="nn">Classification</span> <span class="k">import</span> <span class="n">GenreClassifier</span>
<span class="kn">from</span> <span class="nn">CustomControls</span> <span class="k">import</span> <span class="n">ConsoleWidget</span>
<span class="kn">from</span> <span class="nn">CustomControls</span> <span class="k">import</span> <span class="n">StatusBar</span>
<span class="kn">from</span> <span class="nn">PIL.ImageTk</span> <span class="k">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">PIL.ImageTk</span> <span class="k">import</span> <span class="n">PhotoImage</span>
<span class="kn">from</span> <span class="nn">idlelib.ToolTip</span> <span class="k">import</span> <span class="n">ToolTip</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="k">import</span> <span class="n">FigureCanvasTkAgg</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="k">import</span> <span class="n">NavigationToolbar2TkAgg</span>
<span class="kn">from</span> <span class="nn">tkFontChooser</span> <span class="k">import</span> <span class="n">FontChooser</span>
<span class="kn">from</span> <span class="nn">tkFontChooser</span> <span class="k">import</span> <span class="n">askfont</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="k">import</span> <span class="n">filedialog</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="k">import</span> <span class="n">messagebox</span>
<span class="kn">from</span> <span class="nn">tkinter.scrolledtext</span> <span class="k">import</span> <span class="n">ScrolledText</span>

<span class="n">_author__</span> <span class="o">=</span> <span class="s2">&quot;Nathan Zwelibanzi Khupe&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2017, Nathan Zwelibanzi Khupe&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Nathan Zwelibanzi Khupe&quot;</span><span class="p">]</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;GPL&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;Nathan Zwelibanzi Khupe&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;001knatz@gmail.com&quot;</span>
<span class="n">__docformat__</span> <span class="o">=</span> <span class="s2">&quot;numpy&quot;</span>

<div class="viewcode-block" id="MainForm"><a class="viewcode-back" href="../gui.html#GUI.MainForm">[docs]</a><span class="k">class</span> <span class="nc">MainForm</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The standard GUI screen on which other elements are added  </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">corpusForm</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mainGenreForm</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">subGenreForm</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">:</span> <span class="n">Tk</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor for the Main Form</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        master : Tk</span>
<span class="sd">            tkinter Tk object</span>
<span class="sd">        path : str</span>
<span class="sd">            The path to the icon file</span>
<span class="sd">        **kwargs</span>
<span class="sd">            arguments</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">master</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;Images/favicon.ico&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initGUI</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_configUtil</span> <span class="o">=</span> <span class="n">ConfigUtils</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_configUtil</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_load_settings</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_initGUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Fantasy Genre Extractor&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_center</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_menubar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_toolbar</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span> <span class="o">=</span> <span class="n">StatusBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> |&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Status Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Calibri&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;normal&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">NO</span><span class="p">)</span>

        <span class="n">lframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
        <span class="n">lframe</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_text_area</span><span class="p">(</span><span class="n">lframe</span><span class="p">)</span>
        <span class="n">lframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">)</span>

        <span class="n">fstyle</span> <span class="o">=</span> <span class="n">Style</span><span class="p">()</span>
        <span class="n">fstyle</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;GE.TFrame&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#334353&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">)</span>
        <span class="n">rframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;GE.TFrame&#39;</span><span class="p">)</span>
        <span class="n">rframe</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_control_area</span><span class="p">(</span><span class="n">rframe</span><span class="p">)</span>
        <span class="n">rframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_toolbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_tools</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_search_box</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_tools</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

        <span class="n">new_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/new.png&quot;</span><span class="p">))</span>
        <span class="n">open_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/open.png&quot;</span><span class="p">))</span>
        <span class="n">save_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/save.png&quot;</span><span class="p">))</span>
        <span class="n">saveas_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/saveas.png&quot;</span><span class="p">))</span>
        <span class="n">cut_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/cut.png&quot;</span><span class="p">))</span>
        <span class="n">copy_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/copy.png&quot;</span><span class="p">))</span>
        <span class="n">paste_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/paste.png&quot;</span><span class="p">))</span>

        <span class="c1"># Create a TkInter image to be used in the button</span>
        <span class="n">new_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">new_img</span><span class="p">)</span>
        <span class="n">open_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">open_img</span><span class="p">)</span>
        <span class="n">save_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">save_img</span><span class="p">)</span>
        <span class="n">saveas_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">saveas_img</span><span class="p">)</span>
        <span class="n">cut_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">cut_img</span><span class="p">)</span>
        <span class="n">copy_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">copy_img</span><span class="p">)</span>
        <span class="n">paste_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">paste_img</span><span class="p">)</span>

        <span class="c1"># Create buttons for the toolbar</span>
        <span class="n">new_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">new_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">new_file</span><span class="p">)</span>
        <span class="n">open_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">open_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">)</span>
        <span class="n">save_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">save_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_file</span><span class="p">)</span>
        <span class="n">saveas_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">saveas_icon</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_as_file</span><span class="p">)</span>
        <span class="n">cut_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">cut_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onCut</span><span class="p">)</span>
        <span class="n">copy_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">copy_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onCopy</span><span class="p">)</span>
        <span class="n">paste_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">paste_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onPaste</span><span class="p">)</span>

        <span class="n">ToolTip</span><span class="p">(</span><span class="n">new_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">open_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Open&quot;</span><span class="p">,</span> <span class="s2">&quot;File&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">save_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="s2">&quot;File&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">saveas_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="s2">&quot;As&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">cut_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Cut&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">copy_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Copy&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>
        <span class="n">ToolTip</span><span class="p">(</span><span class="n">paste_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Paste&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>

        <span class="n">new_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">new_icon</span>
        <span class="n">open_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">open_icon</span>
        <span class="n">save_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">save_icon</span>
        <span class="n">saveas_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">saveas_icon</span>
        <span class="n">cut_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">cut_icon</span>
        <span class="n">copy_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">copy_icon</span>
        <span class="n">paste_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">paste_icon</span>

        <span class="c1"># Place buttons in the interface</span>
        <span class="n">px</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">py</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">new_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">open_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">save_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">saveas_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">cut_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">copy_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">paste_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>

        <span class="n">toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_search_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">searchFrm</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span>  <span class="n">width</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">px</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">py</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">searchFrm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Calibri&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;normal&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;find&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;FocusIn&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onEntryFocusIn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;FocusOut&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">onEntryFocusOut</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;find&#39;</span><span class="p">))</span>

        <span class="n">find_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/find.png&quot;</span><span class="p">))</span>
        <span class="n">clear_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;Images/clear.png&quot;</span><span class="p">))</span>

        <span class="n">find_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">find_img</span><span class="p">)</span>
        <span class="n">clear_icon</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">clear_img</span><span class="p">)</span>

        <span class="n">find_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">searchFrm</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">find_icon</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onFind</span><span class="p">)</span>
        <span class="n">clear_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">searchFrm</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">clear_icon</span><span class="p">,</span>
                              <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onClearText</span><span class="p">)</span>

        <span class="n">ToolTip</span><span class="p">(</span><span class="n">clear_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Clear&quot;</span><span class="p">,</span> <span class="s2">&quot;Found&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>

        <span class="n">find_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">find_icon</span>
        <span class="n">clear_button</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">clear_icon</span>

        <span class="n">ToolTip</span><span class="p">(</span><span class="n">find_button</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Find&quot;</span><span class="p">,</span> <span class="s2">&quot;Text&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">find_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">clear_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="n">px</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="n">py</span><span class="p">)</span>
        <span class="n">searchFrm</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_control_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Frame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : Frame</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msglblstyle</span> <span class="o">=</span> <span class="n">Style</span><span class="p">()</span>
        <span class="n">msglblstyle</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;GE.TLabel&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#fff&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#000&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msglbl</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi, Reader&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;GE.TLabel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msglbl</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">)</span>

        <span class="n">btnframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="n">extractbtn</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">btnframe</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Extract Sub-Genres&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                    <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639af2&quot;</span><span class="p">,</span>
                                    <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onExtractButtonClick</span><span class="p">)</span>
        <span class="n">extractbtn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span> <span class="o">=</span> <span class="n">Progressbar</span><span class="p">(</span><span class="n">btnframe</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span>
                                   <span class="n">length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;indeterminate&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">btnframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">note_area</span> <span class="o">=</span> <span class="n">Notebook</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="n">page1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot_area</span><span class="p">(</span><span class="n">note_area</span><span class="p">)</span>
        <span class="n">page2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_table_tab</span><span class="p">(</span><span class="n">note_area</span><span class="p">)</span>

        <span class="n">note_area</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Chart&#39;</span><span class="p">)</span>
        <span class="n">note_area</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Table&#39;</span><span class="p">)</span>

        <span class="n">note_area</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_table_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentfrm</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentfrm : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tableFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parentfrm</span><span class="p">)</span>
        <span class="n">tableScroll</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span> <span class="o">=</span> <span class="n">Treeview</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="p">[</span><span class="s1">&#39;columns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="s1">&#39;Probability&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;#0&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Probability&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Probability&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;#0&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Probability&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

        <span class="n">tableScroll</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="n">tableScroll</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">yscrollcommand</span><span class="o">=</span><span class="n">tableScroll</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">tableFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tableFrame</span>

    <span class="k">def</span> <span class="nf">_make_plot_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Frame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : Frame</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pltframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_actualFigure</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actualFigure</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">pltframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_plot</span><span class="p">()</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">adjustable</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">)</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2TkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">pltframe</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">_tkcanvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="n">pltframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pltframe</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot1</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">plot2</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.color_cycle&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">plot1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">labelz</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">]</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labelz</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">plot1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">plot1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fantasy Filter&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax1</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">plot2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">plot2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
            <span class="n">labelz</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">]</span>
            <span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">plot2</span><span class="p">,</span> <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labelz</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">plot2</span> <span class="o">==</span> <span class="p">([],</span> <span class="p">[]):</span>
            <span class="n">plot2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">])</span>
            <span class="n">labelz</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Generic&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">plot2</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labelz</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">msglbl</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Fantasy, Generic Fantasy&quot;</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">plot2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="n">plot2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fantasy Sub-Genres&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>

        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_text_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Frame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : Frame</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scrollbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">198</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
                                  <span class="n">yscrollcommand</span><span class="o">=</span><span class="n">scrollbar</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="n">WORD</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Calibri&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;normal&#39;</span><span class="p">))</span>
        <span class="n">scrollbar</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>

        <span class="n">scrollbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_menubar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">the_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>

        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">the_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">file_menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_menu_options</span><span class="p">(</span><span class="n">file_menu</span><span class="p">)</span>
        <span class="n">the_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">file_menu</span><span class="p">)</span>

        <span class="n">edit_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">the_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">edit_menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_edit_menu_options</span><span class="p">(</span><span class="n">edit_menu</span><span class="p">)</span>
        <span class="n">the_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">edit_menu</span><span class="p">)</span>

        <span class="n">setting_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">the_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">setting_menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_setting_menu_options</span><span class="p">(</span><span class="n">setting_menu</span><span class="p">)</span>
        <span class="n">the_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">setting_menu</span><span class="p">)</span>

        <span class="n">training_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">the_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">training_menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_training_menu_options</span><span class="p">(</span><span class="n">training_menu</span><span class="p">)</span>
        <span class="n">the_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Training&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">training_menu</span><span class="p">)</span>

        <span class="n">help_menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">the_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">help_menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_help_menu_options</span><span class="p">(</span><span class="n">help_menu</span><span class="p">)</span>
        <span class="n">the_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Help&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">help_menu</span><span class="p">)</span>

        <span class="c1"># Display the menu bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">the_menu</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_file_menu_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_menu</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_menu : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">new_file</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+N&quot;</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Open&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+O&quot;</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_file</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+S&quot;</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save As&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_as_file</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Alt+S&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">bind_all</span><span class="p">(</span><span class="s2">&quot;&lt;Control-n&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_file</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">bind_all</span><span class="p">(</span><span class="s2">&quot;&lt;Control-o&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">bind_all</span><span class="p">(</span><span class="s2">&quot;&lt;Control-s&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_file</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">bind_all</span><span class="p">(</span><span class="s2">&quot;&lt;Alt-s&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_as_file</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>

        <span class="c1"># Add a horizontal bar to group similar commands</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_separator</span><span class="p">()</span>

        <span class="c1"># Call for the function to execute when clicked</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Quit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exit_application</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Alt+F4&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">file_menu</span>

    <span class="k">def</span> <span class="nf">_help_menu_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">help_menu</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        help_menu : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">help_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;About&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_About</span><span class="p">)</span>
        <span class="n">help_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
                              <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_Document</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">help_menu</span>

    <span class="k">def</span> <span class="nf">_edit_menu_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edit_menu</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        edit_menu : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cut&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onCut</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+X&quot;</span><span class="p">)</span>
        <span class="n">edit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Copy&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onCopy</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+C&quot;</span><span class="p">)</span>
        <span class="n">edit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Paste&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onPaste</span><span class="p">,</span> <span class="n">accelerator</span><span class="o">=</span><span class="s2">&quot;Ctrl+V&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">edit_menu</span>

    <span class="k">def</span> <span class="nf">_setting_menu_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setting_menu</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        setting_menu : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">setting_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Font&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_FontChanger</span><span class="p">)</span>
        <span class="n">setting_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Corpus&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_CorpusForm</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">setting_menu</span>

    <span class="k">def</span> <span class="nf">_training_menu_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">training_menu</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        training_menu : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">training_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Fantasy Check&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_MainGenreForm</span><span class="p">)</span>
        <span class="n">training_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Discrete Sub-Genres&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_SubGenreForm</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">training_menu</span>

    <span class="k">def</span> <span class="nf">_center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="n">width</span> <span class="o">=</span> <span class="mi">800</span>
        <span class="n">height</span> <span class="o">=</span> <span class="mi">600</span>

        <span class="n">frm_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_rootx</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_x</span><span class="p">()</span>
        <span class="n">win_width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">frm_width</span>

        <span class="n">titlebar_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_rooty</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_y</span><span class="p">()</span>
        <span class="n">win_height</span> <span class="o">=</span> <span class="n">height</span> <span class="o">+</span> <span class="n">titlebar_height</span> <span class="o">+</span> <span class="n">frm_width</span>

        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">win_width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">winfo_screenheight</span><span class="p">()</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">win_height</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">x</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_load_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_settings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configUtil</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;corpuspath&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_settings</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_corpus_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_settings</span>
                <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_refresh_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pl1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pl2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot</span><span class="p">(</span><span class="n">pl1</span><span class="p">,</span> <span class="n">pl2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="c1"># Forms</span>
    <span class="k">def</span> <span class="nf">_FontChanger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># open the font chooser and get the font selected by the user</span>
        <span class="n">font</span> <span class="o">=</span> <span class="n">askfont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Text Sample&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">font</span><span class="p">:</span>
            <span class="c1"># spaces in the family name need to be escaped</span>
            <span class="n">font</span><span class="p">[</span><span class="s1">&#39;family&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">font</span><span class="p">[</span><span class="s1">&#39;family&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;\ &#39;</span><span class="p">)</span>
            <span class="n">font_str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%(family)s</span><span class="s2"> </span><span class="si">%(size)i</span><span class="s2"> </span><span class="si">%(weight)s</span><span class="s2"> </span><span class="si">%(slant)s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">font</span>
            <span class="k">if</span> <span class="n">font</span><span class="p">[</span><span class="s1">&#39;underline&#39;</span><span class="p">]:</span>
                <span class="n">font_str</span> <span class="o">+=</span> <span class="s1">&#39; underline&#39;</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="n">font</span><span class="p">[</span><span class="s1">&#39;overstrike&#39;</span><span class="p">]:</span>
                <span class="n">font_str</span> <span class="o">+=</span> <span class="s1">&#39; overstrike&#39;</span>
                <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Chosen font: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">font_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;\ &#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)))</span>
            <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="n">font_str</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="n">font_str</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="n">font_str</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_CorpusForm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">MainForm</span><span class="o">.</span><span class="n">corpusForm</span><span class="p">:</span>
            <span class="n">corpusForm</span> <span class="o">=</span> <span class="n">CorpusForm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
            <span class="n">corpusForm</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
            <span class="n">MainForm</span><span class="o">.</span><span class="n">corpusForm</span> <span class="o">=</span> <span class="n">corpusForm</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_MainGenreForm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">MainForm</span><span class="o">.</span><span class="n">mainGenreForm</span><span class="p">:</span>
            <span class="n">mainGenreForm</span> <span class="o">=</span> <span class="n">MainGenreForm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
            <span class="n">mainGenreForm</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
            <span class="n">MainForm</span><span class="o">.</span><span class="n">mainGenreForm</span> <span class="o">=</span> <span class="n">mainGenreForm</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_SubGenreForm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">MainForm</span><span class="o">.</span><span class="n">subGenreForm</span><span class="p">:</span>
            <span class="n">subGenreForm</span> <span class="o">=</span> <span class="n">SubGenreForm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
            <span class="n">subGenreForm</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
            <span class="n">MainForm</span><span class="o">.</span><span class="n">subGenreForm</span> <span class="o">=</span> <span class="n">subGenreForm</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_About</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;About&quot;</span><span class="p">,</span> <span class="s2">&quot;Fantasy sub genre extractor by Nathan Zwelibanzi Khupe @2017&quot;</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_Document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Documentation\_build\html\index.html&quot;</span>
        <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
        <span class="k">pass</span>

    <span class="c1"># FUNCTIONS</span>
<div class="viewcode-block" id="MainForm.extract_naive_genres"><a class="viewcode-back" href="../gui.html#GUI.MainForm.extract_naive_genres">[docs]</a>    <span class="k">def</span> <span class="nf">extract_naive_genres</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bag_of_words</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bag_of_words : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.process_main_genre"><a class="viewcode-back" href="../gui.html#GUI.MainForm.process_main_genre">[docs]</a>    <span class="k">def</span> <span class="nf">process_main_genre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Conduct Fantasy filtering</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        FileNotFoundError</span>
<span class="sd">            Description</span>
<span class="sd">        FileNotFoundError</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Error!&quot;</span>
            <span class="n">raw_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">raw_text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;File Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Text not found&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s2">&quot;Test text not found&quot;</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Checking main genre...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">())</span>
                <span class="n">prob_dist</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">predict_MainGenre</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>

                <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prob_dist</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">stop_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
                    <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Main Genre Check&quot;</span><span class="p">,</span> <span class="s2">&quot;Fantasy genre check failed&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Main genre checking failed&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">())</span>
                    <span class="k">return</span> <span class="kc">None</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">msglbl</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Main genre is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">display_class_probability</span><span class="p">(</span><span class="n">prob_dist</span><span class="p">)</span>

                <span class="n">label1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">prob_dist</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">prob_dist</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">plot1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">prob_dist</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="n">prob_dist</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">1</span><span class="p">]]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_plot</span><span class="p">((</span><span class="n">label1</span><span class="p">,</span> <span class="n">plot1</span><span class="p">))</span>

                <span class="k">if</span> <span class="s2">&quot;Non-Fantasy&quot;</span> <span class="o">!=</span> <span class="n">result</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Extracting sub genres...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">())</span>

                    <span class="n">prob_dist2</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">predict_SubGenre</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">prob_dist2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;prob_dist2 is a &#39;NoneType&#39; object&quot;</span><span class="p">)</span>

                    <span class="n">labels2</span><span class="p">,</span> <span class="n">plot2</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="n">prob_dist2</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;=</span> <span class="mf">0.5</span><span class="p">:</span>
                           <span class="n">result</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="n">g</span>
                           <span class="n">labels2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                           <span class="n">plot2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                           <span class="k">pass</span>
                        <span class="k">pass</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">msglbl</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_plot</span><span class="p">((</span><span class="n">label1</span><span class="p">,</span> <span class="n">plot1</span><span class="p">),</span> <span class="p">(</span><span class="n">labels2</span><span class="p">,</span> <span class="n">plot2</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

                    <span class="n">probabity_map</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">probabity_map</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">prob_dist</span><span class="p">)</span>
                    <span class="n">probabity_map</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">prob_dist2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">display_class_probability</span><span class="p">(</span><span class="n">probabity_map</span><span class="p">)</span>
                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;Predicted: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ax2</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                    <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Sub Genre Check&quot;</span><span class="p">,</span> <span class="s2">&quot;The supplied text is not fantasy&quot;</span><span class="p">)</span>
                    <span class="k">pass</span>
                <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Classifier Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Train classifiers first!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Processing Error&quot;</span><span class="p">,</span> <span class="s2">&quot;An unexpected error occurred.&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">stop_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Statusbar |&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">())</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

    <span class="k">def</span> <span class="nf">display_class_probability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">probabity_map</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">get_children</span><span class="p">())</span>
        <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="n">probabity_map</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">GenreTable</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">line</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="c1"># EVENTS</span>
<div class="viewcode-block" id="MainForm.exit_application"><a class="viewcode-back" href="../gui.html#GUI.MainForm.exit_application">[docs]</a>    <span class="k">def</span> <span class="nf">exit_application</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.open_file"><a class="viewcode-back" href="../gui.html#GUI.MainForm.open_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Open file and put text in the text widget</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">_file</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

                    <span class="c1"># Update the text widget</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
                    <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Encoding Error&quot;</span><span class="p">,</span> <span class="s2">&quot;This application only accepts utf-8 encoded text files&quot;</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.new_file"><a class="viewcode-back" href="../gui.html#GUI.MainForm.new_file">[docs]</a>    <span class="k">def</span> <span class="nf">new_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.save_file"><a class="viewcode-back" href="../gui.html#GUI.MainForm.save_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">new_text</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_as_file</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.save_as_file"><a class="viewcode-back" href="../gui.html#GUI.MainForm.save_as_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_as_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Get text in the text widget and delete the last newline</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="n">END</span> <span class="o">+</span> <span class="s1">&#39;-1c&#39;</span><span class="p">)</span>

            <span class="c1"># Write the text and close</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onClearText"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onClearText">[docs]</a>    <span class="k">def</span> <span class="nf">onClearText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_remove</span><span class="p">(</span><span class="s2">&quot;highlight&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onCut"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onCut">[docs]</a>    <span class="k">def</span> <span class="nf">onCut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_ranges</span><span class="p">(</span><span class="s2">&quot;sel&quot;</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">SEL_LAST</span><span class="p">)</span>
            <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">SEL_LAST</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">clipboard_clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">clipboard_append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onCopy"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onCopy">[docs]</a>    <span class="k">def</span> <span class="nf">onCopy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">clipboard_clear</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_ranges</span><span class="p">(</span><span class="s2">&quot;sel&quot;</span><span class="p">):</span>
            <span class="n">copied_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">SEL_LAST</span><span class="p">)</span>
            <span class="n">copied_text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">clipboard_append</span><span class="p">(</span><span class="n">copied_text</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onPaste"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onPaste">[docs]</a>    <span class="k">def</span> <span class="nf">onPaste</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">selection_get</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="s1">&#39;CLIPBOARD&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">INSERT</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onFind"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onFind">[docs]</a>    <span class="k">def</span> <span class="nf">onFind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_remove</span><span class="p">(</span><span class="s2">&quot;highlight&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_config</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">query</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>
            <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">nocase</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stopindex</span><span class="o">=</span><span class="n">END</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">index</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">lastIndex</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">+</span><span class="si">%d</span><span class="s1">c&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
                <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">raw_text_area</span><span class="o">.</span><span class="n">tag_add</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">lastIndex</span><span class="p">)</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">lastIndex</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_text</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statebar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Found </span><span class="si">{}</span><span class="s2"> instances of &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">query</span><span class="p">))</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onEntryFocusIn"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onEntryFocusIn">[docs]</a>    <span class="k">def</span> <span class="nf">onEntryFocusIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">widget</span>
        <span class="n">entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="n">entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onEntryFocusOut"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onEntryFocusOut">[docs]</a>    <span class="k">def</span> <span class="nf">onEntryFocusOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">widget</span>
        <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainForm.onExtractButtonClick"><a class="viewcode-back" href="../gui.html#GUI.MainForm.onExtractButtonClick">[docs]</a>    <span class="k">def</span> <span class="nf">onExtractButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_main_genre</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">pass</span></div>

    <span class="k">pass</span>  <span class="c1"># end of MainForm</span></div>
<div class="viewcode-block" id="CorpusForm"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm">[docs]</a><span class="k">class</span> <span class="nc">CorpusForm</span><span class="p">(</span><span class="n">Toplevel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="n">Toplevel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configUtil</span> <span class="o">=</span> <span class="n">ConfigUtils</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configUtil</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onQuit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Escape&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_topmost</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initGUI</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_initGUI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wm_title</span><span class="p">(</span><span class="s2">&quot;Configure Corpus&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">x</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rootx</span><span class="p">()</span> <span class="o">+</span> <span class="mi">96</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rooty</span><span class="p">()</span> <span class="o">-</span> <span class="mi">30</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_pre_processing</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_console</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_topmost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes this window the topmost window</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_pre_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">corpus_frame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Corpus Directory&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">corpus_frame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_load_settings</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;FocusIn&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">onEntryFocusIn</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span>  <span class="n">message</span><span class="o">=</span><span class="s1">&#39;corpus directory&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;FocusOut&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">onEntryFocusOut</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;corpus directory&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">browse</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">corpus_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                     <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639&quot;</span><span class="p">,</span>
                                     <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onBrowse</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_to_config</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">corpus_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save Path&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                             <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639af2&quot;</span><span class="p">,</span>
                                             <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onSaveToConfig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_to_config</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">corpus_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ctrl_frame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Make Training and Testing Corpus&quot;</span><span class="p">)</span>

        <span class="n">split_corpus_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Process Corpus&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                             <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639&quot;</span><span class="p">,</span>
                                             <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#f4424e&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onSplitCorpus</span><span class="p">)</span>
        <span class="n">split_corpus_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span> <span class="o">=</span> <span class="n">Progressbar</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;indeterminate&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">save_corpus</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save Datasets&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                     <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639af2&quot;</span><span class="p">,</span>
                                     <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onSaveCorpus</span><span class="p">)</span>
        <span class="n">save_corpus</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ctrl_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>

        <span class="n">frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">frame</span>

    <span class="k">def</span> <span class="nf">_make_console</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">console</span> <span class="o">=</span> <span class="n">ConsoleWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">console</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">console</span>

    <span class="k">def</span> <span class="nf">_load_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dir_setting</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configUtil</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;corpuspath&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dir_setting</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dir_setting</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;corpus directory&#39;</span><span class="p">)</span>
                <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="c1">#Functions</span>
    <span class="k">def</span> <span class="nf">_process_corpus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Split the main corpus into a training and testing corpus</span>
<span class="sd">            then preprocess the training corpus</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">corpus</span> <span class="o">=</span> <span class="n">CorpusUtils</span><span class="o">.</span><span class="n">create_genred_corpus</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">file_pattern</span><span class="o">=</span><span class="s1">r&#39;(?!\.?!\.).*\.txt&#39;</span><span class="p">,</span> <span class="n">genre_file</span><span class="o">=</span><span class="s2">&quot;genre.txt&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="n">CorpusUtils</span><span class="o">.</span><span class="n">get_split_corpus</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>

            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>  <span class="s2">&quot;Corpus has been processed successfully.&quot;</span><span class="p">)</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;critical&quot;</span><span class="p">,</span>  <span class="s2">&quot;Remember to save the datasets!&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">stop_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;process_corpus: operation finished&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="c1">#Events</span>
<div class="viewcode-block" id="CorpusForm.onQuit"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onQuit">[docs]</a>    <span class="k">def</span> <span class="nf">onQuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">MainForm</span><span class="o">.</span><span class="n">corpusForm</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_release</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onBrowse"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onBrowse">[docs]</a>    <span class="k">def</span> <span class="nf">onBrowse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">corpus_filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">corpus_filepath</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">corpus_filepath</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onSaveToConfig"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onSaveToConfig">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveToConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pathOnEntry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pathOnEntry</span> <span class="o">!=</span> <span class="s2">&quot;corpus directory&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configUtil</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;CorpusPath&quot;</span><span class="p">,</span> <span class="n">pathOnEntry</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configUtil</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onSplitCorpus"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onSplitCorpus">[docs]</a>    <span class="k">def</span> <span class="nf">onSplitCorpus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Split the main corpus into a training and testing corpus</span>
<span class="sd">            then preprocess the training corpus</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Event</span>
<span class="sd">            Tkinter Event object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pathOnEntry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">corpus_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pathOnEntry</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dir_setting</span><span class="p">:</span>
                <span class="n">start_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_corpus</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">())</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">start_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_corpus</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">())</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">processing_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onSaveCorpus"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onSaveCorpus">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveCorpus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Description</span>
<span class="sd">        ValueError</span>
<span class="sd">        Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;TestCorpus.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">)</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;Testing corpus saved...&quot;</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;TrainCorpus.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span><span class="p">)</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;Training corpus saved...&quot;</span><span class="p">)</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;finished...&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;Cannot save corpus because one or more corpus are empty&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;pre_process_corpus: Cannot save corpus because one or more corpus are empty&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onEntryFocusOut"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onEntryFocusOut">[docs]</a>    <span class="k">def</span> <span class="nf">onEntryFocusOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">widget</span>
        <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="CorpusForm.onEntryFocusIn"><a class="viewcode-back" href="../gui.html#GUI.CorpusForm.onEntryFocusIn">[docs]</a>    <span class="k">def</span> <span class="nf">onEntryFocusIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">widget</span>
        <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="n">message</span><span class="p">:</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">pass</span></div>

    <span class="k">pass</span>  <span class="c1"># end of CorpusForm</span></div>
<div class="viewcode-block" id="MainGenreForm"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm">[docs]</a><span class="k">class</span> <span class="nc">MainGenreForm</span><span class="p">(</span><span class="n">Toplevel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        root : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        *args</span>
<span class="sd">            Description</span>
<span class="sd">        **kargs</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Toplevel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mainclassifier</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onQuit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Escape&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_topmost</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initGUI</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_initGUI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wm_title</span><span class="p">(</span><span class="s2">&quot;Fantasy Classifier Training&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">x</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">650</span><span class="p">,</span> <span class="mi">690</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rootx</span><span class="p">()</span> <span class="o">+</span> <span class="mi">96</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rooty</span><span class="p">()</span> <span class="o">-</span> <span class="mi">113</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_main_genre</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_console</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_topmost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes this window the topmost window</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_main_genre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">visualizerFrame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_tabs</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="n">ctrl_frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">train_main_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Train Classifier&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                                <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639&quot;</span><span class="p">,</span>
                                                <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#f4424e&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onTrainBinaryGenreCheck</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">train_main_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span> <span class="o">=</span> <span class="n">Progressbar</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;indeterminate&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_classifier</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save Classifier&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                              <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639af2&quot;</span><span class="p">,</span>
                                              <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onSaveMainClassifier</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_classifier</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ctrl_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">frame</span>

    <span class="k">def</span> <span class="nf">_make_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrame : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">notebook</span> <span class="o">=</span> <span class="n">Notebook</span><span class="p">(</span><span class="n">parentFrame</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">430</span><span class="p">)</span>

        <span class="n">page1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_confusion_matrix_tab</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>
        <span class="n">page2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_table_tab</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>
        <span class="n">page3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot_tab1</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>
        <span class="n">page4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot_tab2</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>

        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Classification Metrics&#39;</span><span class="p">)</span>
        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Feature Metrics&#39;</span><span class="p">)</span>
        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Classification Report&#39;</span><span class="p">)</span>
        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page4</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Confusion Matrix&#39;</span><span class="p">)</span>

        <span class="n">notebook</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">notebook</span>

    <span class="k">def</span> <span class="nf">_make_confusion_matrix_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrame : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span> <span class="o">=</span> <span class="n">ScrolledText</span><span class="p">(</span><span class="n">parentFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>
        <span class="n">cr_report</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_report.pickle&quot;</span><span class="p">)</span>
        <span class="n">measures</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;filtering_measures.pickle&quot;</span><span class="p">)</span>
        <span class="n">class_stats</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_stats.pickle&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cr_report</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">measures</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">report</span> <span class="o">=</span> <span class="n">extract_report_text</span><span class="p">(</span><span class="n">cr_report</span><span class="p">,</span> <span class="n">measures</span><span class="p">,</span> <span class="n">class_stats</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">report</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">report</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span>

    <span class="k">def</span> <span class="nf">_make_table_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentfrm</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentfrm : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tableFrame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parentfrm</span><span class="p">)</span>
        <span class="n">tableScroll</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">Treeview</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;columns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="s2">&quot;Weight&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;#0&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;#0&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

        <span class="n">tableScroll</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="n">tableScroll</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">yscrollcommand</span><span class="o">=</span><span class="n">tableScroll</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="n">tableFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_display_feature_metrics</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">tableFrame</span>

    <span class="k">def</span> <span class="nf">_make_plot_tab1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrm</span><span class="p">):</span>
        <span class="n">pltframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parentFrm</span><span class="p">)</span>
        <span class="n">actualFigure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>

        <span class="n">class_report</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_report.pickle&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">class_report</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">plot_class_report</span><span class="p">(</span><span class="n">class_report</span><span class="p">,</span> <span class="s2">&quot;wide&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">smiley_plot</span><span class="p">()</span>
            <span class="k">pass</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">adjustable</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">actualFigure</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">pltframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">_tkcanvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2TkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">pltframe</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">FALSE</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pltframe</span>

    <span class="k">def</span> <span class="nf">_make_plot_tab2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrm</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrm : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pltframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parentFrm</span><span class="p">)</span>
        <span class="n">actualFigure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>

        <span class="n">cm</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_confusion.pickle&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">cm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">plot_confusion_matrix</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">smiley_plot</span><span class="p">()</span>
            <span class="k">pass</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">adjustable</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas2</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">actualFigure</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">pltframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas2</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas2</span><span class="o">.</span><span class="n">_tkcanvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2TkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas2</span><span class="p">,</span> <span class="n">pltframe</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">FALSE</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pltframe</span>

    <span class="k">def</span> <span class="nf">_make_console</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">console</span> <span class="o">=</span> <span class="n">ConsoleWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">console</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">console</span>

    <span class="k">def</span> <span class="nf">_refresh_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_report</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        class_report : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        confusion_matrix : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot_class_report</span><span class="p">(</span><span class="n">class_report</span><span class="p">,</span> <span class="s2">&quot;wide&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="n">plot_confusion_matrix</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_display_feature_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fmetrics</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_features.pickle&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fmetrics</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">get_children</span><span class="p">())</span>
            <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">tfidf</span> <span class="ow">in</span> <span class="n">fmetrics</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">line</span><span class="p">,</span>
                                  <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">tfidf</span><span class="p">))</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="c1">#Functions</span>
<div class="viewcode-block" id="MainGenreForm.convert_to_binary_class"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm.convert_to_binary_class">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_binary_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">testing_corpus</span><span class="p">,</span> <span class="n">train_corpus</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        testing_corpus : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        train_corpus : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">test_output</span><span class="p">,</span> <span class="n">train_output</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>

        <span class="c1">#print(&quot;converting training corpus to binary class&quot;)</span>
        <span class="k">for</span> <span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span> <span class="ow">in</span> <span class="n">train_corpus</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;Non-Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="n">genres</span> <span class="o">=</span> <span class="s1">&#39;Non-Fantasy&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">genres</span> <span class="o">=</span> <span class="s1">&#39;Fantasy&#39;</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
            <span class="n">train_output</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span><span class="p">))</span>
            <span class="c1">#print(fileid+&quot; processed&quot;)</span>
            <span class="k">pass</span>

        <span class="c1">#print(&quot;converting testing corpus to binary class&quot;)</span>
        <span class="k">for</span> <span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span> <span class="ow">in</span> <span class="n">testing_corpus</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;Non-Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="n">genres</span> <span class="o">=</span> <span class="s1">&#39;Non-Fantasy&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">genres</span> <span class="o">=</span> <span class="s1">&#39;Fantasy&#39;</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
            <span class="n">test_output</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span><span class="p">))</span>
            <span class="c1">#print(fileid+&quot; processed&quot;)</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">test_output</span><span class="p">,</span> <span class="n">train_output</span></div>

<div class="viewcode-block" id="MainGenreForm.process_main_genre"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm.process_main_genre">[docs]</a>    <span class="k">def</span> <span class="nf">process_main_genre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Description</span>
<span class="sd">        ValueError</span>
<span class="sd">        Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;process_main_genre: started&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;TrainCorpus.pickle&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;TestCorpus.pickle&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;testing or training corpus is empty. Have you done preprocessing yet?&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_to_binary_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span><span class="p">)</span>

            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;split training corpus&quot;</span><span class="p">)</span>
            <span class="n">train_documents</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">train_genres</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span><span class="p">:</span>  <span class="c1"># f = filename, g = genretag, r = raw text file</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">f</span> <span class="o">+</span> <span class="s2">&quot; processed&quot;</span><span class="p">)</span>
                <span class="n">train_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
                <span class="n">train_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="k">pass</span>

            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;training genre mappings created&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">train_documents</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">train_genres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin training classifier&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mainclassifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">train_MainGenre_on</span><span class="p">(</span><span class="n">train_documents</span><span class="p">,</span> <span class="n">train_genres</span><span class="p">)</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin testing classifier&quot;</span><span class="p">)</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;split testing corpus&quot;</span><span class="p">)</span>
                <span class="n">test_documents</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">test_genres</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span><span class="p">:</span>  <span class="c1"># f = filename, g = genretag, r = raw text file</span>
                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">f</span> <span class="o">+</span> <span class="s2">&quot; processed&quot;</span><span class="p">)</span>
                    <span class="n">test_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
                    <span class="n">test_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                    <span class="k">pass</span>

                <span class="n">predictions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mainclassifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_documents</span><span class="p">)</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin assessing classifier&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">confusion_matrix</span> <span class="o">=</span> <span class="n">ConfusionMatrix</span><span class="p">(</span><span class="n">test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>
                <span class="n">last_class_report</span> <span class="o">=</span> <span class="s2">&quot;Fantasy Classifier Accuracy: </span><span class="si">{}</span><span class="s2">%</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">class_report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">binary_class_measures</span><span class="p">(</span><span class="n">test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">class_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">confusion_matrix</span><span class="o">.</span><span class="n">stats</span><span class="p">()</span>
                <span class="n">last_class_report</span> <span class="o">+=</span> <span class="n">extract_report_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_stats</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">main_confusion</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">last_class_report</span><span class="p">)</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;Fantasy Classifier trained, tested and assessed.&quot;</span><span class="p">)</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;critical&quot;</span><span class="p">,</span> <span class="s2">&quot;Remember to save the classifier!&quot;</span><span class="p">)</span>

                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Failed to create one or more datasets&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">stop_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

    <span class="c1">#Events</span>
<div class="viewcode-block" id="MainGenreForm.onQuit"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm.onQuit">[docs]</a>    <span class="k">def</span> <span class="nf">onQuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">MainForm</span><span class="o">.</span><span class="n">mainGenreForm</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_release</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainGenreForm.onTrainBinaryGenreCheck"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm.onTrainBinaryGenreCheck">[docs]</a>    <span class="k">def</span> <span class="nf">onTrainBinaryGenreCheck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">_start_new_thread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process_main_genre</span><span class="p">,</span> <span class="p">())</span>

        <span class="k">pass</span></div>

<div class="viewcode-block" id="MainGenreForm.onSaveMainClassifier"><a class="viewcode-back" href="../gui.html#GUI.MainGenreForm.onSaveMainClassifier">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveMainClassifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mainclassifier</span><span class="p">:</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_features.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">)</span>
            <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mainclassifier</span><span class="p">,</span>
                                 <span class="n">ClassifierType</span><span class="o">.</span><span class="n">BinaryGenres</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_report.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_stats.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_stats</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_main_genre_confusion.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">confusion_matrix</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;filtering_measures.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_display_feature_metrics</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_plots</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">confusion_matrix</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;self.mainclassifier is None&quot;</span><span class="p">)</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Save Main Genre Classifier&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;There is currently no classifier to save.&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

    <span class="k">pass</span>  <span class="c1"># end of MainGenreForm</span></div>
<div class="viewcode-block" id="SubGenreForm"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm">[docs]</a><span class="k">class</span> <span class="nc">SubGenreForm</span><span class="p">(</span><span class="n">Toplevel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    actualFigure : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    canvas : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    class_measures : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    class_report : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    save_classifier : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    spinner : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    sub_confusion : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    subclassifier : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    table : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    testing_corpus : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    toolbar : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    train_corpus : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    train_sub_button : TYPE</span>
<span class="sd">        Description</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        root : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        *args</span>
<span class="sd">            Description</span>
<span class="sd">        **kargs</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Toplevel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">testing_corpus</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">train_corpus</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onQuit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Escape&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_topmost</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initGUI</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_initGUI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wm_title</span><span class="p">(</span><span class="s2">&quot;Classifier Training&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">x</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">+</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">690</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rootx</span><span class="p">()</span> <span class="o">+</span> <span class="mi">96</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">winfo_rooty</span><span class="p">()</span> <span class="o">-</span> <span class="mi">113</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_sub_genre_tab</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_console</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_topmost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes this window the topmost window</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_sub_genre_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">visualizerFrame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_tabs</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="n">ctrl_frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">train_sub_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Train Classifier&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                               <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639&quot;</span><span class="p">,</span>
                                               <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#f4424e&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onTrainMultiGenreClassifier</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">train_sub_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span> <span class="o">=</span> <span class="n">Progressbar</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;indeterminate&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_classifier</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">ctrl_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save Classifier&quot;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span>
                                              <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#639af2&quot;</span><span class="p">,</span>
                                              <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;#14ff33&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onSaveSubGenreClassifier</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_classifier</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ctrl_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>

        <span class="n">frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">frame</span>

    <span class="k">def</span> <span class="nf">_make_console</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">console</span> <span class="o">=</span> <span class="n">ConsoleWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
        <span class="n">console</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">console</span>

    <span class="k">def</span> <span class="nf">_make_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrame : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">notebook</span> <span class="o">=</span> <span class="n">Notebook</span><span class="p">(</span><span class="n">parentFrame</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">430</span><span class="p">)</span>

        <span class="n">page1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_classification_metric_tab</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>
        <span class="n">page2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_table_tab</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>
        <span class="n">page3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot_tab</span><span class="p">(</span><span class="n">notebook</span><span class="p">)</span>

        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Classification Metrics&#39;</span><span class="p">)</span>
        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Feature Metrics&#39;</span><span class="p">)</span>
        <span class="n">notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">page3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Classification Report&#39;</span><span class="p">)</span>

        <span class="n">notebook</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">notebook</span>

    <span class="k">def</span> <span class="nf">_make_classification_metric_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrame : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span> <span class="o">=</span> <span class="n">ScrolledText</span><span class="p">(</span><span class="n">parentFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>

        <span class="n">cr_report</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_report.pickle&quot;</span><span class="p">)</span>
        <span class="n">cl_stat</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_stats.pickle&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">cr_report</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">report</span> <span class="o">=</span> <span class="n">extract_report_text</span><span class="p">(</span><span class="n">cr_report</span><span class="p">,</span> <span class="n">cl_stat</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">report</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">report</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span>

    <span class="k">def</span> <span class="nf">_make_table_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentfrm</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentfrm : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tableFrame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parentfrm</span><span class="p">)</span>
        <span class="n">tableScroll</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">Treeview</span><span class="p">(</span><span class="n">tableFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;columns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="s1">&#39;Occurrence&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;#0&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;#0&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Term&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Occurrence&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

        <span class="n">tableScroll</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="n">tableScroll</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">yscrollcommand</span><span class="o">=</span><span class="n">tableScroll</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="n">tableFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_display_feature_metrics</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">tableFrame</span>

    <span class="k">def</span> <span class="nf">_make_plot_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentFrm</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parentFrm : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pltframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">parentFrm</span><span class="p">)</span>
        <span class="n">actualFigure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="n">actualFigure</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>

        <span class="n">cr</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_report.pickle&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">cr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">plot_class_report</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="s2">&quot;narrow&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Dark Fantasy&#39;</span><span class="p">,</span> <span class="s1">&#39;Juvenile Fantasy&#39;</span><span class="p">,</span> <span class="s1">&#39;Science Fantasy&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Sword and Sorcery&#39;</span><span class="p">])</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">smiley_plot</span><span class="p">()</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">adjustable</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">actualFigure</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">pltframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">_tkcanvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">TRUE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2TkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">pltframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">FALSE</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pltframe</span>

    <span class="k">def</span> <span class="nf">_refresh_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cr</span><span class="p">,</span> <span class="n">class_names</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cr : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        class_names : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot_class_report</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="s2">&quot;narrow&quot;</span><span class="p">,</span> <span class="n">class_names</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_display_feature_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fmetrics</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_features.pickle&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fmetrics</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">get_children</span><span class="p">())</span>
            <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">fmetrics</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">line</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="c1"># Functions</span>
<div class="viewcode-block" id="SubGenreForm.convert_to_multi"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm.convert_to_multi">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_multi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_corpus</span><span class="p">,</span> <span class="n">train_corpus</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        test_corpus : TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        train_corpus : TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">train_output</span><span class="p">,</span> <span class="n">test_output</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span> <span class="ow">in</span> <span class="n">train_corpus</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;Non-Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="s1">&#39;Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="n">genres</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;Fantasy&#39;</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="n">train_output</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span><span class="p">))</span>
            <span class="k">pass</span>

        <span class="k">for</span> <span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span> <span class="ow">in</span> <span class="n">test_corpus</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;Non-Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="s1">&#39;Fantasy&#39;</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
                <span class="n">genres</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;Fantasy&#39;</span><span class="p">)</span>
                <span class="k">pass</span>

            <span class="n">test_output</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">fileid</span><span class="p">,</span> <span class="n">genres</span><span class="p">,</span> <span class="n">raw_text</span><span class="p">))</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">test_output</span><span class="p">,</span> <span class="n">train_output</span></div>

<div class="viewcode-block" id="SubGenreForm.process_sub_genre"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm.process_sub_genre">[docs]</a>    <span class="k">def</span> <span class="nf">process_sub_genre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Description</span>
<span class="sd">        ValueError</span>
<span class="sd">        Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">train_corpus</span><span class="p">,</span> <span class="n">test_corpus</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>

            <span class="n">test_corpus</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;TestCorpus.pickle&quot;</span><span class="p">)</span>
            <span class="n">train_corpus</span> <span class="o">=</span> <span class="n">FileManager</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;TrainCorpus.pickle&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">test_corpus</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">train_corpus</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;testing or training corpus is empty. Configure corpus first.&quot;</span><span class="p">)</span>
                <span class="k">pass</span>

            <span class="n">test_corpus</span><span class="p">,</span> <span class="n">train_corpus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_to_multi</span><span class="p">(</span><span class="n">test_corpus</span><span class="p">,</span> <span class="n">train_corpus</span><span class="p">)</span>

            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;split training corpus&quot;</span><span class="p">)</span>
            <span class="n">train_documents</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">train_genres</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">train_corpus</span><span class="p">:</span>  <span class="c1"># f = filename, g = genretag, r = raw text file</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">f</span> <span class="o">+</span> <span class="s2">&quot; processed&quot;</span><span class="p">)</span>
                <span class="n">train_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
                <span class="n">train_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;training genre mappings created&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">train_documents</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">train_genres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;create label binarizer&quot;</span><span class="p">)</span>
                <span class="n">lblbinarizer</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">MultiLabelBinarizer</span><span class="p">()</span>
                <span class="n">lblArray</span> <span class="o">=</span> <span class="n">lblbinarizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">train_genres</span><span class="p">)</span>
                <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;MultiLabelBinarizer.pickle&quot;</span><span class="p">,</span> <span class="n">lblbinarizer</span><span class="p">)</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin training classifier&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">train_SubGenres_on</span><span class="p">(</span><span class="n">train_documents</span><span class="p">,</span> <span class="n">lblArray</span><span class="p">)</span>

                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin testing classifier&quot;</span><span class="p">)</span>
                <span class="n">test_documents</span><span class="p">,</span> <span class="n">test_genres</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;split testing  corpus&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">test_corpus</span><span class="p">:</span>  <span class="c1"># f = filename, g = genretag, r = raw text file</span>
                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">f</span> <span class="o">+</span> <span class="s2">&quot; processed&quot;</span><span class="p">)</span>
                    <span class="n">test_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
                    <span class="n">test_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                    <span class="k">pass</span>
                <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;testing genre mappings created&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span><span class="p">:</span>
                    <span class="n">predictions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_documents</span><span class="p">)</span>
                    <span class="n">predicted_genres</span> <span class="o">=</span> <span class="n">lblbinarizer</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">predictions</span><span class="p">)</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;predicted_genres&quot;</span><span class="p">,</span> <span class="n">predicted_genres</span><span class="p">)</span>

                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;begin assessing classifier&quot;</span><span class="p">)</span>
                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;warn&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prediction Errors&quot;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">test_corpus</span><span class="p">,</span> <span class="n">predicted_genres</span><span class="p">):</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">g</span> <span class="o">!=</span> <span class="n">p</span><span class="p">:</span>
                            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;warn&quot;</span><span class="p">,</span> <span class="s2">&quot;Story: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">Expected: </span><span class="si">{}</span><span class="s2">, Predicted: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
                            <span class="k">pass</span>
                        <span class="k">pass</span>

                    <span class="n">binary_test_genres</span> <span class="o">=</span> <span class="n">lblbinarizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">test_genres</span><span class="p">)</span>

                    <span class="n">last_class_report</span> <span class="o">=</span> <span class="s2">&quot;Sub Genre Accuracy: </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">binary_test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">class_report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">binary_test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span> <span class="o">=</span> <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">multi_class_measures</span><span class="p">(</span><span class="n">binary_test_genres</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>

                    <span class="n">last_class_report</span> <span class="o">+=</span> <span class="n">extract_report_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">sub_confusion</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">last_class_report</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_display_feature_metrics</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_plots</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">,</span> <span class="n">lblbinarizer</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>

                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;Fantasy Sub Classifier trained, tested and assessed.&quot;</span><span class="p">)</span>
                    <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;critical&quot;</span><span class="p">,</span> <span class="s2">&quot;Remember to save the classifier!&quot;</span><span class="p">)</span>
                    <span class="k">pass</span>
                <span class="k">pass</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">stop_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

    <span class="c1"># Events</span>
<div class="viewcode-block" id="SubGenreForm.onQuit"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm.onQuit">[docs]</a>    <span class="k">def</span> <span class="nf">onQuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">MainForm</span><span class="o">.</span><span class="n">subGenreForm</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_release</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="SubGenreForm.onTrainMultiGenreClassifier"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm.onTrainMultiGenreClassifier">[docs]</a>    <span class="k">def</span> <span class="nf">onTrainMultiGenreClassifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_spinner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spinner</span><span class="p">)</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">_start_new_thread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process_sub_genre</span><span class="p">,</span> <span class="p">())</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="SubGenreForm.onSaveSubGenreClassifier"><a class="viewcode-back" href="../gui.html#GUI.SubGenreForm.onSaveSubGenreClassifier">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveSubGenreClassifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Summary</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : None, optional</span>
<span class="sd">            Description</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TYPE</span>
<span class="sd">            Description</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span><span class="p">:</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_features.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_report.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_report</span><span class="p">)</span>
            <span class="n">FileManager</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;clsf_sub_genre_stats.pickle&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">class_measures</span><span class="p">)</span>
            <span class="n">GenreClassifier</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subclassifier</span><span class="p">,</span> <span class="n">ClassifierType</span><span class="o">.</span><span class="n">MultiClass</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">LogUtils</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;self.subclassifier is None&quot;</span><span class="p">)</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Save Main Genre Classifier&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;There is currently no classifier to save.&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span></div>

    <span class="k">pass</span>  <span class="c1"># end of SubGenreForm</span></div>

<span class="c1"># Global functions</span>
<div class="viewcode-block" id="start_spinner"><a class="viewcode-back" href="../gui.html#GUI.start_spinner">[docs]</a><span class="k">def</span> <span class="nf">start_spinner</span><span class="p">(</span><span class="n">spinner</span><span class="p">:</span> <span class="n">Progressbar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Start a given spinner control</span>

<span class="sd">    Notes</span>
<span class="sd">    --------</span>
<span class="sd">    While spinner is  moving other events are ignored</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    spinner : Progressbar</span>
<span class="sd">        Progressbar sscontrol set to indeterminate time</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spinner</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
    <span class="n">spinner</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="stop_spinner"><a class="viewcode-back" href="../gui.html#GUI.stop_spinner">[docs]</a><span class="k">def</span> <span class="nf">stop_spinner</span><span class="p">(</span><span class="n">spinner</span><span class="p">:</span> <span class="n">Progressbar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stop a given spinner control</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    spinner : Progressbar</span>
<span class="sd">        Progressbar control set to indeterminate time</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spinner</span><span class="o">.</span><span class="n">grab_release</span><span class="p">()</span>
    <span class="n">spinner</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="extract_report_text"><a class="viewcode-back" href="../gui.html#GUI.extract_report_text">[docs]</a><span class="k">def</span> <span class="nf">extract_report_text</span><span class="p">(</span><span class="n">report</span><span class="p">,</span>
                        <span class="n">measures</span><span class="p">,</span>
                        <span class="n">confusion_matrix</span><span class="p">:</span> <span class="n">OrderedDict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a textual classification report</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    report : TYPE</span>
<span class="sd">        classification report</span>
<span class="sd">    measures : TYPE</span>
<span class="sd">        detailed statistics or measures</span>
<span class="sd">    confusion_matrix : OrderedDict</span>
<span class="sd">        confusion matrix dictionary</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Classification Report</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--------------------------------</span><span class="se">\n\n</span><span class="s2">Classification Report:</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--------------------------------</span><span class="se">\n\n</span><span class="s2">Detailed Measures:</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="n">measures</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">measures</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">confusion_matrix</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">----------------------</span><span class="se">\n\n</span><span class="s2">Classification Statistics:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">confusion_matrix</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">output</span></div>


<div class="viewcode-block" id="plot_class_report"><a class="viewcode-back" href="../gui.html#GUI.plot_class_report">[docs]</a><span class="k">def</span> <span class="nf">plot_class_report</span><span class="p">(</span><span class="n">classification_report</span><span class="p">,</span> <span class="n">orientation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plot sklearn classification report</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    classification_report : TYPE</span>
<span class="sd">        classification report text</span>
<span class="sd">    orientation : str</span>
<span class="sd">        Wide or Narrow orientation</span>
<span class="sd">    class_names : list, optional</span>
<span class="sd">        Class labels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="n">classification_report</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">orientation</span> <span class="o">=</span> <span class="n">orientation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="n">classes</span><span class="p">,</span> <span class="n">plotMat</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="n">support</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">class_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">class_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)]:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>

            <span class="n">support</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">class_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">plotMat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span> <span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)]:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>

            <span class="n">support</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">plotMat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">pass</span>

    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Purples</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Classification Report&quot;</span><span class="p">)</span>

    <span class="n">xticklabels</span><span class="p">,</span> <span class="n">yticklabels</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s2">&quot;narrow&quot;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Metrics&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Classes&#39;</span><span class="p">)</span>

        <span class="n">xticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> (</span><span class="si">{1}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">class_names</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">_support</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">_support</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">support</span><span class="p">)]</span>
        <span class="n">yticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Precision&#39;</span><span class="p">,</span> <span class="s1">&#39;Recall&#39;</span><span class="p">,</span> <span class="s1">&#39;F1-score&#39;</span><span class="p">]</span>

        <span class="n">plotMat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">plotMat</span><span class="p">)</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">plotMat</span><span class="o">.</span><span class="n">T</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">plotMat</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s2">&quot;wide&quot;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Classes&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Metrics&#39;</span><span class="p">)</span>

        <span class="n">yticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> (</span><span class="si">{1}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">class_names</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">_support</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">_support</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">support</span><span class="p">)]</span>
        <span class="n">xticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Precision&#39;</span><span class="p">,</span> <span class="s1">&#39;Recall&#39;</span><span class="p">,</span> <span class="s1">&#39;F1-score&#39;</span><span class="p">]</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">plotMat</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">plotMat</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;invalid orientation argument&quot;</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="n">thresh</span> <span class="o">=</span> <span class="p">(</span><span class="n">cmd</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="n">cmd</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">*</span> <span class="mf">0.5</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">xtick_marks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xticklabels</span><span class="p">))</span>
    <span class="n">ytick_marks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yticklabels</span><span class="p">))</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">xtick_marks</span><span class="p">,</span> <span class="n">xticklabels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">ytick_marks</span><span class="p">,</span> <span class="n">yticklabels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">shape</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span>
                     <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                     <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span> <span class="k">if</span> <span class="n">cmd</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">thresh</span> <span class="k">else</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="plot_confusion_matrix"><a class="viewcode-back" href="../gui.html#GUI.plot_confusion_matrix">[docs]</a><span class="k">def</span> <span class="nf">plot_confusion_matrix</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">:</span> <span class="n">ConfusionMatrix</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plot confusion matrix</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    confusion_matrix : ConfusionMatrix</span>
<span class="sd">        sklearn ConfusionMatrix object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>

    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Purples</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">cmd</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
    <span class="n">thresh</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Confusion Matrix&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">tick_marks_col</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
    <span class="n">tick_marks_idx</span> <span class="o">=</span> <span class="n">tick_marks_col</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">tick_marks_idx</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">tick_marks_col</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">shape</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span>
                     <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                     <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span> <span class="k">if</span> <span class="n">cmd</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">thresh</span> <span class="k">else</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="smiley_plot"><a class="viewcode-back" href="../gui.html#GUI.smiley_plot">[docs]</a><span class="k">def</span> <span class="nf">smiley_plot</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Placeholder smiley face plot</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">40</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">40</span><span class="p">)</span> <span class="o">+</span> <span class="mi">25</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">393</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">64</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">pass</span></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Nathan Zwelibanzi Khupe.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>